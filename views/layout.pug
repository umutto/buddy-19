doctype html
html
  head
    title= title

    // Global site tag (gtag.js) - Google Analytics
    script(async='', src='https://www.googletagmanager.com/gtag/js?id=UA-98513512-3')
    script.
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-98513512-3');

      const c_user_alias = !{typeof UserAliasCookie !== 'undefined' ? JSON.stringify(UserAliasCookie).replace(/<\//g, '<\\/') : `null`};
      if(c_user_alias)
        gtag('set', {'user_id': c_user_alias});

    meta(charset='utf-8')
    meta(name='viewport', content='width=device-width, user-scalable=no, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0')
    link(rel='shortcut icon', type='image/x-icon', href='/images/favicon.ico')

    link(rel='apple-touch-icon', sizes='180x180', href='/images/apple-touch-icon.png')
    link(rel='icon', type='image/png', sizes='32x32', href='/images/favicon-32x32.png')
    link(rel='icon', type='image/png', sizes='16x16', href='/images/favicon-16x16.png')
    link(rel='manifest', href='/site.webmanifest')

    //- <!-- Chrome, Firefox OS and Opera -->
    meta(name='theme-color' content='#e31757')
    meta(name='mobile-web-app-capable' content='yes')

    //- <!-- iOS Safari -->
    meta(name='apple-mobile-web-app-capable' content='yes')
    meta(name='apple-mobile-web-app-status-bar-style' content='black-translucent')

    link(rel='stylesheet', href='/stylesheets/bootstrap.min.css')
    link(rel='stylesheet', href='/stylesheets/style.css')

    script(src='https://code.jquery.com/jquery-3.4.1.min.js', integrity='sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=', crossorigin='anonymous')
    script(src='https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js', integrity='sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1', crossorigin='anonymous')
    script(src='https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js', integrity='sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM', crossorigin='anonymous')

    link(rel='stylesheet', href='https://use.fontawesome.com/releases/v5.7.2/css/all.css', integrity='sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr', crossorigin='anonymous')

    script(src='/javascripts/layout.js')
    block metas

  - var themes = ["bg-pentagon", "bg-squiggly", "bg-polka", "bg-symphony", "bg-sakura", "bg-christmas"]
  - var selected_theme = roomTheme || themes[Math.floor(Math.random() * themes.length)]
  body(class=selected_theme)
    block content
    #loading-overlay(style="display:block;")
      .loading-overlay-content
        .spinner-border.text-secondary(role='status')
          span.sr-only Processing...
        h1#loading-text.spinner-text.text-secondary
          | Processing...

    #toast-wrapper.col-md-6(aria-live='polite', aria-atomic='true', style="position:fixed; bottom:3rem; right:0;")
    #toast-template.d-none.toast.col-md-6.px-0(role='alert', aria-live='assertive', aria-atomic='true')
        .toast-header.text-white
            strong.toast-header.mr-auto
            small
                i.far.fa-clock.mx-1
                | now
            button.ml-2.mb-1.close(type='button', data-dismiss='toast', aria-label='Close')
                span(aria-hidden='true') Ã—
        .toast-body.toast-body
